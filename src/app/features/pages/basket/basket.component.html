<main>
    <div *ngIf="basketItems.length > 0; else emptyBasket" class="items-container">
        <h1>Shopping Cart</h1>
        <div *ngFor="let item of basketItems" class="basket-item">
            <img [src]="item.images[0] | defaultImage | safeUrl : 'url'" alt="{{ item.title }}">
            <div class="details">
                <h2>{{ item.title }}</h2>
                <p>{{ item.price*item.quantity | currency: 'EUR' }}</p>
            </div>
            <input type="number" [(ngModel)]="item.quantity" (change)="updateQuantity(item)" value="item.quantity" class="quantity-input">
            <button (click)="deleteItem(item.id)" class="delete-button">Delete</button>
        </div>
        <h1>Total: {{ totalPrice | currency: 'EUR' }}</h1>
        <button class="clear-button" (click)="removeAllItems()">Clear basket</button>
    </div>
    <ng-template #emptyBasket>
        <h1>Your cart is empty.</h1>
    </ng-template>
</main>
